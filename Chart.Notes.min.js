!function t(i,e,o){function n(r,h){if(!e[r]){if(!i[r]){var a="function"==typeof require&&require;if(!h&&a)return a(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+r+"'")}var f=e[r]={exports:{}};i[r][0].call(f.exports,function(t){var e=i[r][1][t];return n(e?e:t)},f,f.exports,t,i,e,o)}return e[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,i,e){},{}],2:[function(t,i,e){var o=t("chart.js");o="function"==typeof o?o:window.Chart;var n=o.helpers;o.Notes=o.Notes||{};var s=(o.Notes.defaults={backgroundColor:"rgba(0,0,0,0.8)",borderColor:"rgba(0,0,0,0.8)",fontColor:"#fff",fontStyle:"normal",fontSize:13,fontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",fontSpacing:5,maxWidth:180,minWidth:80},function(t,i){this.originElement=t,this.text=i,this.size={width:120,height:20},this.position={x:0,y:0},this._textShorted=i});s.prototype={_setFont:function(t,i){i.font=n.fontString(t.fontSize,t.fontStyle,t.fontFamily)},resize:function(t,i){var e,o=t.options.notes,n=2*o.fontSpacing;for(this._setFont(o,i),this._textShorted=this.text,e=i.measureText(this.text).width+n;e>o.maxWidth;){var s=e-o.maxWidth,r=o.fontSize/2,h=this._textShorted.length-Math.ceil(s/r+3);this._textShorted=this._textShorted.substring(0,Math.max(1,h))+"...",e=i.measureText(this._textShorted).width+n}this.size={height:o.fontSize+n,width:e}},reposition:function(t){var i,e=this.originElement.tooltipPosition(),o=e.x-t.left,n=e.y-t.top,s=t.right-t.left,r=t.bottom-t.top,h=s/2,a=r/2,f=8;i=o<=h&&n<=a?{x:e.x+f,y:e.y-this.size.height-f}:o>h&&n<=a?{x:e.x-this.size.width-f,y:e.y-this.size.height-f}:o<=h&&n>a?{x:e.x+f,y:e.y-this.size.height-f}:{x:e.x-this.size.width-f,y:e.y-this.size.height-f},i.x=Math.max(i.x,t.left),i.y=Math.max(i.y,t.top),this.position=i},draw:function(t,i){var e=this.originElement.tooltipPosition(),o=t.options.notes,s=i.getLineDash(),r=i.fillStyle;i.setLineDash([2,2]),i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(this.position.x,this.position.y+this.size.height),i.closePath(),i.stroke(),i.setLineDash(s),n.drawRoundedRectangle(i,this.position.x,this.position.y,this.size.width,this.size.height,3),i.fill(),i.stroke(),this._setFont(t,i),i.fillStyle=o.fontColor,i.fillText(this._textShorted,this.position.x+o.fontSpacing,this.position.y+o.fontSpacing),i.fillStyle=r},hit:function(t){var i=this.position.x,e=this.position.y,o=this.position.x+this.size.width,n=this.position.y+this.size.height;return i<=t.x&&e<=t.y&&o>=t.x&&n>=t.y}};var r=function(){this._notes=[],this._positioned=!1};r.prototype={addNote:function(t){this._notes.push(t)},getNote:function(t){return this._notes[t]},length:function(){return this._notes.length},resetLayout:function(){this._positioned=!1},updateLayout:function(t,i){if(!this._positioned){for(var e=0,o=this._notes.length;e<o;++e){var n=this._notes[e];n.resize(t,i),n.reposition(t.chartArea)}this._positioned=!0}},draw:function(t,i){for(var e=0;e<this._notes.length;++e)this._notes[e].draw(t,i)},didHitNote:function(t){for(var i=0;i<this._notes.length;++i){var e=this._notes[i];if(e.hit(t))return e}return null}};var h=function(){for(var t=o.plugins.getAll(),i=0;i<t.length;++i)if(t[i]instanceof a)return t[i];return null},a=o.PluginBase.extend({onClick:function(t,i){var e,o=h();if(o){if(o._noteList){var s=n.getRelativePosition(t,this.chart);e=o._noteList.didHitNote(s)}!e&&o._chartOptsOnClick&&o._chartOptsOnClick.call(this,t,i)}},beforeInit:function(t){var i=t.options;i.notes=n.configMerge(i.notes,o.Notes.defaults),this._chartOptsOnClick=i.onClick,i.onClick=this.onClick},afterInit:function(t){},resize:function(t,i){this._noteList&&this._noteList.resetLayout()},beforeUpdate:function(t){},afterScaleUpdate:function(t){},beforeDatasetsUpdate:function(t){},afterDatasetsUpdate:function(t){this._noteList=new r,n.each(t.data.datasets,function(i,e){for(var o=i.notes||[],n=0;n<o.length;++n){var r=t.getDatasetMeta(e),h=r.data[o[n].offset];this._noteList.addNote(new s(h,o[n].text))}},this)},afterUpdate:function(t){},beforeRender:function(t){},beforeDraw:function(t,i){},afterDraw:function(t,i){},beforeDatasetsDraw:function(t,i){},afterDatasetsDraw:function(t,i){var e=t.chart.ctx,o=(t.data.notes||[],t.options.notes);i!=this._easing&&(this._noteList.resetLayout(),this._easing=i),this._noteList.updateLayout(t,e),e.lineWidth=1,e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,this._noteList.draw(t,e)},destroy:function(t){}});i.exports=a,o.pluginService.register(new a)},{"chart.js":1}]},{},[2]);